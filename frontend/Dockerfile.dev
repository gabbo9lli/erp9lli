# Use a Node image suitable for development
FROM node:20-alpine

# Set the working directory
WORKDIR /app

# Copy package files first for efficient caching
# This ensures npm install only runs if package files change
COPY package*.json ./

# Install dependencies
RUN npm install

# Copy the rest of the frontend application code
# NOTE: In the dev setup, the docker-compose volume mount will replace this code with your local directory
COPY . .

# Vue development server usually runs on 8080
EXPOSE 8080

# Default command to start the dev server (often overridden by docker-compose.dev.yml)
CMD ["npm", "run", "serve"]